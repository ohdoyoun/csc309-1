NavigationModel=function(){var t=this;t.urls={},t.navigationItems=ko.observableArray(),t.currentNavigation=ko.observable(),t.headerItems=ko.observableArray(),t.currentNavType=ko.observable(),t.emptySetup=function(){},t.setupPrivateMessagesPage=function(){},t.landingPages={Account:"Profile",Projects:"My Projects",Communities:"Active Communities",ProjectDetails:"Dashboard",Login:"Login",Logout:"Logout",Register:"Register"},t.navigation={Account:{navNum:0,Profile:{content:"profiles/edit",setupCallback:t.emptySetup},Wallet:{content:"Account/Wallet",setupCallback:t.emptySetup},"Account Settings":{content:"profiles/settings",setupCallback:t.emptySetup},Notifications:{content:"profiles/notifications",setupCallback:t.emptySetup}},Projects:{navNum:0,"My Projects":{content:"projects/mine",setupCallback:t.emptySetup},"Backed Projects":{content:"projects/backed",setupCallback:t.emptySetup},"Discover Projects":{content:"projects",setupCallback:t.emptySetup},"Create Project":{content:"projects/create",setupCallback:t.emptySetup},Statistics:{content:"Projects/GlobalStatistics",setupCallback:t.emptySetup}},Communities:{navNum:0,"Active Communities":{content:"Communities/ActiveCommunities",setupCallback:t.emptySetup},"Community List":{content:"Communities/CommunityList",setupCallback:t.emptySetup}},ProjectDetails:{navNum:2,Dashboard:{content:"Projects/Dashboard",setupCallback:t.emptySetup},Statistics:{content:"Projects/Statistics",setupCallback:t.emptySetup},"Backer Information":{content:"Projects/BackerInformation",setupCallback:t.emptySetup},Surveys:{content:"Projects/Surveys/Surveys",setupCallback:t.emptySetup},"Private Messages":{content:"Projects/PrivateMessages",setupCallback:t.emptySetup}},Logout:{navNum:0,Logout:{content:"users/logout",setupCallback:t.emptySetup,hidden:!0}},Login:{navNum:1,Login:{content:"users/login",setupCallback:t.emptySetup,hidden:!0}},Register:{navNum:1,Register:{content:"users/register",setupCallback:t.emptySetup,hidden:!0}}},ko.computed(function(){var e=[],a=t.currentNavType();$.each(t.navigation,function(t,n){n.navNum===a&&e.push({name:t,nav:t})}),t.headerItems(e)}),t.changePage=function(e){var a=t.navigation[t.currentNavigation()][e];$("#main-body").remove.apply($("#main-body").children()),Helpers.LoadPartial($("#main-body"),a.content),a.setupCallback(),$("#flashMessage").hide()},t.changeCurrentNavigationType=function(e){t.currentNavType(e),t.changeCurrentNavigation(t.headerItems()[0].nav)},t.changeCurrentNavigation=function(e){if(t.navigation[e]){var a=[];$.each(t.navigation[e],function(t,e){!e.hidden&&e.content&&a.push({text:t})}),t.navigationItems.removeAll(),t.navigationItems.push.apply(t.navigationItems,a),t.currentNavigation(e),t.changePage(t.landingPages[e])}},t.init=function(){$(".header-bar").click(function(e){e.target.hasAttribute("data-nav")&&t.changeCurrentNavigation(e.target.attributes["data-nav"].value)}),$("#navigation-links").click(function(e){e.target.hasAttribute("data-nav")&&t.changePage(e.target.attributes["data-nav"].value)})}};